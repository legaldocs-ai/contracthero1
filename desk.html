<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Aurum Task Desk â€” Task Desk & Preview Draft</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />

  <!-- Favicon -->
  <link rel="icon" href="favicon.png" />
  <link rel="icon" type="image/png" href="favicon.png" />

  <!-- Google tag (gtag.js) -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-NEY7RNB5S"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){ dataLayer.push(arguments); }
    gtag('js', new Date());
    gtag('config', 'G-NEY7RNB5S');
  </script>

  <style>
    * { box-sizing: border-box; margin: 0; padding: 0; }
    :root {
      --bg-deep: #020617;
      --bg-card: #020617;
      --bg-card-soft: #020617;
      --border-subtle: rgba(148, 163, 184, 0.35);
      --text-main: #e5e7eb;
      --text-soft: #cbd5f5;
      --gold: #fbbf24;
      --gold-soft: rgba(251, 191, 36, 0.16);
      --accent-blue: #38bdf8;
      --shadow-strong: 0 32px 120px rgba(0,0,0,0.9);
      --radius-xl: 24px;
      --radius-lg: 16px;
      --radius-pill: 999px;
      --blur-strong: 40px;
    }
    body {
      min-height: 100vh;
      font-family: -apple-system, BlinkMacSystemFont, "SF Pro Text", system-ui,"Segoe UI", sans-serif;
      background: radial-gradient(circle at top, #020617 0%, #020617 40%, #000 100%);
      color: var(--text-main);
      display: flex;
      justify-content: center;
      padding: 24px 12px 48px;
    }
    .page-shell {
      width: 100%;
      max-width: 1120px;
      margin: 0 auto;
    }

    /* é¡¶éƒ¨å¯¼èˆª */
    .top-nav {
      display: flex;
      align-items: center;
      justify-content: space-between;
      margin-bottom: 20px;
    }
    .brand-block {
      display: flex;
      align-items: center;
      gap: 10px;
    }
    .brand-avatar {
      width: 40px;
      height: 40px;
      border-radius: 999px;
      background: conic-gradient(from 180deg,#fbbf24,#38bdf8,#4f46e5,#fbbf24);
      display: flex;
      align-items: center;
      justify-content: center;
      box-shadow: 0 12px 40px rgba(15, 23, 42, 0.7);
    }
    .brand-avatar-inner {
      width: 32px;
      height: 32px;
      border-radius: 999px;
      background: radial-gradient(circle at 30% 0%, #1f2937 0%, #020617 55%);
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 15px;
      font-weight: 600;
      color: #e5e7eb;
    }
    .brand-text-block { display: flex; flex-direction: column; gap: 2px; }
    .brand-name { font-size: 16px; font-weight: 600; letter-spacing: 0.02em; }
    .brand-sub { font-size: 12px; color: var(--text-soft); }

    .nav-links {
      display: flex;
      align-items: center;
      gap: 18px;
      font-size: 13px;
    }
    .nav-links a {
      color: #e5e7eb;
      text-decoration: none;
      opacity: 0.85;
      transition: opacity 0.15s ease, transform 0.15s ease;
    }
    .nav-links a:hover { opacity: 1; transform: translateY(-1px); }
    .nav-links span { color: var(--text-soft); font-size: 12px; }

    .lang-toggle {
      display: inline-flex;
      align-items: center;
      border-radius: 999px;
      border: 1px solid rgba(148, 163, 184, 0.4);
      padding: 2px;
      background: radial-gradient(circle at top left,#111827,#020617);
    }
    .lang-btn {
      border: none;
      outline: none;
      padding: 4px 10px;
      font-size: 11px;
      border-radius: 999px;
      background: transparent;
      color: var(--text-soft);
      cursor: pointer;
      transition: all 0.18s ease;
    }
    .lang-btn.active {
      background: rgba(15, 23, 42, 0.9);
      color: #f9fafb;
      box-shadow: 0 0 0 1px rgba(148, 163, 184, 0.4);
    }

    .primary-btn {
      border-radius: 999px;
      border: none;
      background: linear-gradient(120deg,#fbbf24,#f97316);
      color: #111827;
      padding: 8px 16px;
      font-size: 12px;
      font-weight: 600;
      display: inline-flex;
      align-items: center;
      gap: 6px;
      cursor: pointer;
      box-shadow: 0 12px 45px rgba(15,23,42,0.9);
      transition: transform 0.14s ease, box-shadow 0.14s ease, filter 0.14s ease;
    }
    .primary-btn:hover {
      transform: translateY(-1px);
      box-shadow: 0 18px 70px rgba(15,23,42,1);
      filter: brightness(1.03);
    }
    .primary-btn span.icon { font-size: 14px; }

    /* ä¸»ä½“å¸ƒå±€ */
    .desk-main-card {
      margin-top: 6px;
      border-radius: var(--radius-xl);
      background:
        radial-gradient(circle at top left, rgba(59, 130, 246, 0.16) 0%, transparent 60%),
        radial-gradient(circle at bottom right, rgba(251, 191, 36, 0.06) 0%, transparent 55%),
        rgba(15, 23, 42, 0.96);
      border: 1px solid rgba(15, 23, 42, 0.95);
      box-shadow: var(--shadow-strong);
      padding: 20px 22px 22px;
      backdrop-filter: blur(var(--blur-strong));
    }

    .flow-head {
      border-radius: var(--radius-lg);
      border: 1px dashed rgba(148, 163, 184, 0.6);
      padding: 16px 16px 14px;
      background: radial-gradient(circle at top left, rgba(15,23,42,0.95),rgba(15,23,42,0.96));
      margin-bottom: 16px;
    }
    .flow-head-title-row {
      display: flex;
      align-items: center;
      justify-content: space-between;
      margin-bottom: 10px;
      gap: 8px;
    }
    .flow-pill {
      font-size: 11px;
      color: var(--text-soft);
      display: inline-flex;
      align-items: center;
      gap: 6px;
    }
    .flow-pill-dot {
      width: 8px;
      height: 8px;
      border-radius: 999px;
      background: radial-gradient(circle at 30% 0%, #22c55e, #15803d);
      box-shadow: 0 0 0 4px rgba(34, 197, 94, 0.16);
    }
    .flow-title-block { display: flex; flex-direction: column; gap: 4px; }
    .flow-title { font-size: 17px; font-weight: 600; letter-spacing: 0.01em; }
    .flow-subtitle { font-size: 12px; color: var(--text-soft); max-width: 620px; }
    .flow-chips {
      display: grid;
      grid-template-columns: repeat(3, minmax(0, 1fr));
      gap: 8px;
      margin-top: 10px;
    }
    .flow-chip {
      border-radius: 999px;
      padding: 8px 12px;
      border: 1px dashed rgba(148, 163, 184, 0.5);
      font-size: 11px;
      color: var(--text-soft);
      background: radial-gradient(circle at top,#020617,#020617);
      display: flex;
      align-items: center;
      gap: 8px;
    }
    .flow-chip span.label { font-weight: 500; color: #e5e7eb; }
    .flow-chip-badge {
      font-size: 10px;
      padding: 2px 6px;
      border-radius: 999px;
      border: 1px solid rgba(148, 163, 184, 0.6);
      color: var(--text-soft);
    }

    /* ä¸‹åŠéƒ¨åˆ†å¸ƒå±€ */
    .desk-layout {
      display: grid;
      grid-template-columns: minmax(0, 370px) minmax(0, 1fr);
      gap: 16px;
      align-items: stretch;
    }

    .service-card {
      border-radius: var(--radius-lg);
      border: 1px solid rgba(148, 163, 184, 0.4);
      background: radial-gradient(circle at top left, rgba(15,23,42,0.9),rgba(15,23,42,0.98));
      padding: 14px 14px 10px;
      display: flex;
      flex-direction: column;
      gap: 10px;
    }
    .service-card-header {
      display: flex;
      align-items: center;
      justify-content: space-between;
      margin-bottom: 4px;
    }
    .service-card-title { font-size: 13px; font-weight: 500; color: var(--text-soft); }
    .service-card-mini { font-size: 11px; color: var(--text-soft); }

    .service-list { display: flex; flex-direction: column; gap: 8px; }
    .service-item {
      position: relative;
      border-radius: 999px;
      padding: 10px 12px;
      border: 1px solid rgba(148, 163, 184, 0.5);
      background: radial-gradient(circle at top left, rgba(15,23,42,0.95),rgba(15,23,42,0.98));
      display: flex;
      align-items: center;
      gap: 10px;
      justify-content: space-between;
      cursor: pointer;
      overflow: hidden;
      transition: border-color 0.14s ease, box-shadow 0.16s ease, transform 0.14s ease, background 0.16s ease;
    }
    .service-item::before {
      content: "";
      position: absolute;
      inset: 0;
      opacity: 0;
      background: radial-gradient(circle at 0 0, rgba(59,130,246,0.2), transparent 60%);
      transition: opacity 0.18s ease;
      pointer-events: none;
    }
    .service-item:hover::before { opacity: 1; }
    .service-item:hover { transform: translateY(-1px); box-shadow: 0 18px 60px rgba(15,23,42,0.9); }
    .service-item.active {
      border-color: var(--gold);
      box-shadow: 0 20px 70px rgba(15,23,42,1);
      background: linear-gradient(120deg, rgba(251,191,36,0.08),rgba(15,23,42,0.98));
    }

    .service-item-main {
      display: flex;
      align-items: center;
      gap: 10px;
      flex: 1;
      min-width: 0;
    }
    .service-icon-wrap {
      width: 26px;
      height: 26px;
      border-radius: 999px;
      border: 1px solid rgba(148, 163, 184, 0.7);
      display: flex;
      align-items: center;
      justify-content: center;
      background: radial-gradient(circle at 30% 0%, #020617,#020617);
      box-shadow: 0 7px 20px rgba(15,23,42,0.9);
      flex-shrink: 0;
    }
    .service-icon-inner {
      width: 16px;
      height: 16px;
      border-radius: 999px;
      border: 1px solid rgba(148, 163, 184, 0.9);
      background: radial-gradient(circle at 30% 0%, #0f172a,#020617);
    }
    .service-text-block { display: flex; flex-direction: column; gap: 2px; min-width: 0; }
    .service-title {
      font-size: 13px;
      font-weight: 600;
      color: #e5e7eb;
      white-space: nowrap;
      overflow: hidden;
      text-overflow: ellipsis;
    }
    .service-sub {
      font-size: 11px;
      color: rgba(148, 163, 184, 0.95);
      white-space: nowrap;
      overflow: hidden;
      text-overflow: ellipsis;
    }
    .service-item.active .service-title { color: #f9fafb; }
    .service-item.active .service-sub { color: rgba(209, 213, 219, 0.95); }
    .service-price { font-size: 12px; font-weight: 600; color: var(--gold); white-space: nowrap; margin-left: 8px; }

    /* å³ä¾§ é¢„è§ˆé¢æ¿ */
    .ai-panel {
      border-radius: var(--radius-lg);
      border: 1px solid rgba(148, 163, 184, 0.4);
      background:
        radial-gradient(circle at top right, rgba(56,189,248,0.16), transparent 55%),
        radial-gradient(circle at bottom left, rgba(251,191,36,0.12), transparent 60%),
        rgba(15,23,42,0.96);
      padding: 14px 14px 16px;
      display: flex;
      flex-direction: column;
      gap: 10px;
      position: relative;
      overflow: hidden;
    }
    .ai-panel::after {
      content: "DRAFT DESK";
      position: absolute;
      right: -20px;
      bottom: -10px;
      font-size: 40px;
      letter-spacing: 0.15em;
      color: rgba(15, 23, 42, 0.8);
      font-weight: 700;
      pointer-events: none;
    }
    .ai-header-row {
      display: flex;
      align-items: center;
      justify-content: space-between;
      gap: 8px;
    }
    .ai-title-block { display: flex; flex-direction: column; gap: 2px; }
    .ai-title {
      font-size: 14px;
      font-weight: 600;
      letter-spacing: 0.03em;
      display: flex;
      align-items: center;
      gap: 6px;
    }
    .ai-title-pill {
      font-size: 10px;
      padding: 1px 7px;
      border-radius: 999px;
      background: rgba(15, 23, 42, 0.9);
      border: 1px solid rgba(148, 163, 184, 0.7);
      color: var(--text-soft);
    }
    .ai-subtitle { font-size: 12px; color: var(--text-soft); max-width: 420px; }
    .ai-hint-row { display: flex; flex-wrap: wrap; gap: 6px; margin-bottom: 4px; }
    .ai-hint-pill {
      font-size: 10px;
      border-radius: 999px;
      border: 1px dashed rgba(148, 163, 184, 0.5);
      padding: 2px 8px;
      color: var(--text-soft);
      background: rgba(15, 23, 42, 0.9);
    }

    .ai-form {
      display: grid;
      grid-template-columns: repeat(2, minmax(0, 1fr));
      gap: 8px 10px;
      margin-top: 4px;
    }
    .ai-form-full { grid-column: 1 / -1; }
    .ai-label {
      font-size: 11px;
      color: var(--text-soft);
      margin-bottom: 3px;
      display: flex;
      align-items: center;
      gap: 5px;
    }
    .ai-label span.badge {
      font-size: 9px;
      border-radius: 999px;
      padding: 0 6px;
      border: 1px solid rgba(148, 163, 184, 0.7);
    }
    .ai-input,
    .ai-select,
    .ai-textarea {
      width: 100%;
      border-radius: 10px;
      border: 1px solid rgba(148, 163, 184, 0.7);
      background: rgba(15, 23, 42, 0.9);
      color: #e5e7eb;
      font-size: 12px;
      padding: 6px 8px;
      outline: none;
      resize: vertical;
      min-height: 0;
      transition: border-color 0.14s ease, box-shadow 0.14s ease, background 0.14s ease;
    }
    .ai-input:focus,
    .ai-select:focus,
    .ai-textarea:focus {
      border-color: var(--accent-blue);
      box-shadow: 0 0 0 1px rgba(56,189,248,0.45);
      background: rgba(15, 23, 42, 0.96);
    }
    .ai-select { padding-right: 22px; }
    .ai-textarea { min-height: 80px; line-height: 1.4; }

    /* è‡ªå®šä¹‰ä¸Šä¼ æŒ‰é’® */
    .upload-wrapper {
      display: flex;
      flex-direction: column;
      gap: 4px;
    }
    .upload-label {
      position: relative;
      display: inline-flex;
      align-items: center;
      gap: 8px;
      padding: 6px 10px;
      border-radius: 999px;
      border: 1px dashed rgba(148,163,184,0.7);
      background: rgba(15,23,42,0.9);
      font-size: 11px;
      cursor: pointer;
      width: fit-content;
    }
    .upload-label span.icon { font-size: 13px; }
    .upload-label input[type="file"] {
      position: absolute;
      inset: 0;
      opacity: 0;
      cursor: pointer;
    }
    .upload-filename {
      font-size: 11px;
      color: var(--text-soft);
      max-width: 100%;
      white-space: nowrap;
      overflow: hidden;
      text-overflow: ellipsis;
    }
    .ai-attach-note { font-size: 10px; color: rgba(191,219,254,0.9); }

    .ai-footer-row {
      display: flex;
      align-items: center;
      justify-content: space-between;
      gap: 10px;
      margin-top: 4px;
    }
    .ai-left-buttons {
      display: flex;
      align-items: center;
      gap: 6px;
      flex-wrap: wrap;
    }
    .ai-secondary-btn {
      border-radius: 999px;
      border: 1px solid rgba(148, 163, 184, 0.7);
      background: rgba(15, 23, 42, 0.9);
      color: var(--text-main);
      padding: 6px 11px;
      font-size: 11px;
      display: inline-flex;
      align-items: center;
      gap: 5px;
      cursor: pointer;
      transition: all 0.14s ease;
    }
    .ai-secondary-btn:hover {
      background: rgba(15, 23, 42, 1);
      box-shadow: 0 10px 36px rgba(15, 23, 42, 0.9);
      transform: translateY(-0.5px);
    }
    .ai-generate-btn {
      border-radius: 999px;
      border: none;
      background: linear-gradient(120deg,#22c55e,#16a34a);
      color: #022c22;
      padding: 7px 18px;
      font-size: 12px;
      font-weight: 600;
      display: inline-flex;
      align-items: center;
      gap: 6px;
      cursor: pointer;
      box-shadow: 0 16px 55px rgba(6, 95, 70, 0.7);
      transition: transform 0.14s ease, box-shadow 0.14s ease, filter 0.14s ease;
      white-space: nowrap;
    }
    .ai-generate-btn:hover {
      transform: translateY(-1px);
      box-shadow: 0 22px 70px rgba(6, 95, 70, 0.9);
      filter: brightness(1.02);
    }
    .ai-generate-btn[disabled] {
      opacity: 0.7;
      cursor: default;
      transform: none;
      box-shadow: 0 12px 32px rgba(6, 95, 70, 0.5);
    }
    .ai-status { font-size: 11px; color: var(--text-soft); }

    .ai-preview-container {
      position: relative;
      margin-top: 8px;
    }
    .ai-preview-box {
      border-radius: 12px;
      border: 1px dashed rgba(148, 163, 184, 0.7);
      background: rgba(15, 23, 42, 0.9);
      padding: 8px 10px;
      max-height: 180px;
      overflow: auto;
      font-size: 12px;
      line-height: 1.45;
      white-space: pre-wrap;
      color: #e5e7eb;
    }
    .ai-preview-placeholder { color: rgba(191, 219, 254, 0.95); font-size: 11px; }

    /* ç»ç’ƒæ¨¡ç³Šé®ç½© */
    .ai-preview-overlay {
      position: absolute;
      left: 0;
      right: 0;
      bottom: 0;
      padding: 10px 10px 8px;
      display: none;
      align-items: center;
      justify-content: space-between;
      gap: 8px;
      background: linear-gradient(to top, rgba(15,23,42,0.96), rgba(15,23,42,0.85), transparent);
      backdrop-filter: blur(10px);
      border-radius: 0 0 12px 12px;
    }
    .ai-preview-overlay-text {
      font-size: 10px;
      color: rgba(226, 232, 240, 0.96);
      max-width: 70%;
    }
    .ai-preview-overlay-btn {
      border-radius: 999px;
      border: 1px solid rgba(251,191,36,0.7);
      background: rgba(15,23,42,0.9);
      color: #fbbf24;
      font-size: 11px;
      padding: 5px 10px;
      cursor: pointer;
      white-space: nowrap;
      display: inline-flex;
      align-items: center;
      gap: 4px;
    }

    /* Step 2 ä»˜æ¬¾ + å®Œæ•´ä¿¡ä»¶ */
    .full-card {
      margin-top: 18px;
      border-radius: var(--radius-lg);
      border: 1px solid rgba(148,163,184,0.6);
      background: radial-gradient(circle at top left,rgba(15,23,42,0.96),rgba(15,23,42,0.98));
      padding: 14px 16px 16px;
      box-shadow: 0 18px 70px rgba(15,23,42,1);
    }
    .full-grid {
      display: grid;
      grid-template-columns: minmax(0, 360px) minmax(0, 1fr);
      gap: 16px;
    }
    .full-step-title {
      font-size: 13px;
      font-weight: 600;
      margin-bottom: 6px;
      color: #e5e7eb;
    }
    .full-step-sub { font-size: 11px; color: var(--text-soft); margin-bottom: 10px; }

    .full-pay-card {
      border-radius: 14px;
      border: 1px solid rgba(161, 161, 170, 0.8);
      background: radial-gradient(circle at top, #0b1120, #020617 60%);
      padding: 10px 12px 10px;
      margin-bottom: 10px;
    }
    .full-price-row {
      display: flex;
      align-items: center;
      justify-content: space-between;
      font-size: 12px;
      margin-bottom: 8px;
    }
    .full-price-label { color: var(--text-soft); }
    .full-price-value { color: var(--gold); font-weight: 600; }

    .pay-btn {
      width: 100%;
      border-radius: 999px;
      border: none;
      background: linear-gradient(120deg,#22c55e,#16a34a);
      color: #022c22;
      font-size: 12px;
      font-weight: 600;
      padding: 8px 12px;
      cursor: pointer;
      box-shadow: 0 14px 50px rgba(6,95,70,0.7);
      display: inline-flex;
      align-items: center;
      justify-content: center;
      gap: 6px;
      text-decoration: none;
    }
    .pay-btn:hover { filter: brightness(1.02); transform: translateY(-1px); }

    .full-confirm-row {
      margin-top: 8px;
      display: flex;
      align-items: flex-start;
      gap: 6px;
      font-size: 11px;
      color: var(--text-soft);
    }

    .full-generate-row {
      margin-top: 10px;
      display: flex;
      align-items: center;
      gap: 8px;
      flex-wrap: wrap;
    }
    .full-status { font-size: 11px; color: var(--text-soft); }

    .full-output-box {
      border-radius: 12px;
      border: 1px dashed rgba(148,163,184,0.8);
      background: rgba(15,23,42,0.95);
      padding: 10px 12px;
      min-height: 160px;
      max-height: 260px;
      overflow: auto;
      font-size: 12px;
      line-height: 1.5;
      white-space: pre-wrap;
      color: #e5e7eb;
    }
    .full-output-placeholder { font-size: 11px; color: rgba(191,219,254,0.95); }

    /* å“åº”å¼ */
    @media (max-width: 920px) {
      .desk-layout { grid-template-columns: minmax(0, 1fr); }
      .ai-panel::after { display: none; }
      .full-grid { grid-template-columns: minmax(0,1fr); }
    }
    @media (max-width: 640px) {
      body { padding: 16px 8px 32px; }
      .desk-main-card { padding: 14px 12px 16px; }
      .flow-chips { grid-template-columns: minmax(0, 1fr); }
      .ai-form { grid-template-columns: minmax(0, 1fr); }
      .ai-footer-row { flex-direction: column; align-items: flex-start; }
    }
  </style>
</head>
<body>
  <div class="page-shell">
    <!-- é¡¶éƒ¨å¯¼èˆª -->
    <header class="top-nav">
      <div class="brand-block">
        <div class="brand-avatar">
          <div class="brand-avatar-inner">AU</div>
        </div>
        <div class="brand-text-block">
          <div class="brand-name">Aurum Task Desk</div>
          <div class="brand-sub" id="brandSubText">Private writing & resolution desk</div>
        </div>
      </div>

      <nav class="nav-links">
        <a href="index.html" id="navHome">Home</a>
        <a href="index.html#services" id="navServices">Services</a>
        <a href="index.html#flow" id="navFlow">Flow</a>
        <a href="pricing.html" id="navPricing">Pricing</a>
        <span>|</span>
        <div class="lang-toggle">
          <button class="lang-btn" data-lang="en" id="btnLangEn">EN</button>
          <button class="lang-btn" data-lang="zh" id="btnLangZh">ä¸­</button>
        </div>
        <button class="primary-btn" onclick="window.location.href='auth.html'">
          <span class="icon">â˜…</span>
          <span id="loginBtnText">Login / My Desk</span>
        </button>
      </nav>
    </header>

    <!-- ä¸»ä½“å¡ç‰‡ -->
    <main class="desk-main-card">
      <!-- Flow å¤´éƒ¨è¯´æ˜ -->
      <section class="flow-head">
        <div class="flow-head-title-row">
          <div class="flow-title-block">
            <div class="flow-pill">
              <span class="flow-pill-dot"></span>
              <span id="flowPillText">Flow</span>
            </div>
            <div class="flow-title" id="flowTitle">
              Starting a task is intentionally simple
            </div>
            <p class="flow-subtitle" id="flowSubtitle">
              This page lets you pick one serious scenario and open a focused task desk.
              You can always change scenario later â€” nothing is submitted until you confirm inside your Desk.
            </p>
          </div>
        </div>
        <div class="flow-chips">
          <div class="flow-chip">
            <span class="flow-chip-badge">Step 1</span>
            <span class="label" id="flowChip1Label">Share what happened.</span>
            <span id="flowChip1Text">
              Upload screenshots, letters, or describe the situation in your own words.
            </span>
          </div>
          <div class="flow-chip">
            <span class="flow-chip-badge">Step 2</span>
            <span class="label" id="flowChip2Label">Clarify who and what.</span>
            <span id="flowChip2Text">
              Tell us who you are writing to and what outcome you hope for.
            </span>
          </div>
          <div class="flow-chip">
            <span class="flow-chip-badge">Step 3</span>
            <span class="label" id="flowChip3Label">Receive a ready-to-submit letter.</span>
            <span id="flowChip3Text">
              You review, add personal details if needed, and then send it on.
            </span>
          </div>
        </div>
      </section>

      <!-- ä¸‹åŠéƒ¨åˆ†ï¼šå·¦è¾¹æœåŠ¡ + å³è¾¹ é¢„è§ˆçª—å£ -->
      <section class="desk-layout">
        <!-- å·¦ä¾§æœåŠ¡åˆ—è¡¨ -->
        <aside class="service-card">
          <div class="service-card-header">
            <div class="service-card-title" id="serviceCardTitle">
              5 core services
            </div>
            <div class="service-card-mini" id="serviceCardMini">
              Pick one scenario to open a desk
            </div>
          </div>

          <div class="service-list" id="serviceList">
            <button type="button" class="service-item active" data-task="Legal letters & contract drafts">
              <div class="service-item-main">
                <div class="service-icon-wrap"><div class="service-icon-inner"></div></div>
                <div class="service-text-block">
                  <div class="service-title" id="svc1Title">Legal letters & contract drafts</div>
                  <div class="service-sub" id="svc1Sub">
                    Disputes, refunds, landlord, employer, vendor, partnerâ€¦
                  </div>
                </div>
              </div>
              <div class="service-price">USD 29.9</div>
            </button>

            <button type="button" class="service-item" data-task="Insurance & airline claim letters">
              <div class="service-item-main">
                <div class="service-icon-wrap"><div class="service-icon-inner"></div></div>
                <div class="service-text-block">
                  <div class="service-title" id="svc2Title">Insurance & airline claim letters</div>
                  <div class="service-sub" id="svc2Sub">
                    Travel disruption, baggage loss, medical & policy claims.
                  </div>
                </div>
              </div>
              <div class="service-price">USD 24.9</div>
            </button>

            <button type="button" class="service-item" data-task="Immigration letters & RFE explanations">
              <div class="service-item-main">
                <div class="service-icon-wrap"><div class="service-icon-inner"></div></div>
                <div class="service-text-block">
                  <div class="service-title" id="svc3Title">Immigration letters & RFE explanations</div>
                  <div class="service-sub" id="svc3Sub">
                    Embassy, USCIS, appeal notes, employer support letters.
                  </div>
                </div>
              </div>
              <div class="service-price">USD 39.9</div>
            </button>

            <button type="button" class="service-item" data-task="Family & emotional crisis letters">
              <div class="service-item-main">
                <div class="service-icon-wrap"><div class="service-icon-inner"></div></div>
                <div class="service-text-block">
                  <div class="service-title" id="svc4Title">Family & emotional crisis letters</div>
                  <div class="service-sub" id="svc4Sub">
                    Calm letters to partners, children, parents & relatives.
                  </div>
                </div>
              </div>
              <div class="service-price">USD 19.9</div>
            </button>

            <button type="button" class="service-item" data-task="Complaint & escalation services">
              <div class="service-item-main">
                <div class="service-icon-wrap"><div class="service-icon-inner"></div></div>
                <div class="service-text-block">
                  <div class="service-title" id="svc5Title">Complaint & escalation services</div>
                  <div class="service-sub" id="svc5Sub">
                    Escalate politely to managers, ombudsman, regulator.
                  </div>
                </div>
              </div>
              <div class="service-price">USD 29.9</div>
            </button>
          </div>
        </aside>

        <!-- å³ä¾§ é¢„è§ˆçª—å£ -->
        <section class="ai-panel">
          <div class="ai-header-row">
            <div class="ai-title-block">
              <div class="ai-title" id="aiTitle">
                Preview draft window
                <span class="ai-title-pill" id="aiTitlePill">
                  System only drafts ~30% preview
                </span>
              </div>
              <p class="ai-subtitle" id="aiSubtitle">
                Let the desk draft about 30% of the letter structure and opening for you.
                Nothing is saved or sent. You stay in control of the final version.
              </p>
            </div>
          </div>

          <div class="ai-hint-row">
            <div class="ai-hint-pill" id="aiHint1">âœ“ No login required for preview</div>
            <div class="ai-hint-pill" id="aiHint2">âœ“ Region-free preview</div>
            <div class="ai-hint-pill" id="aiHint3">âœ“ You can still change everything later</div>
          </div>

          <div class="ai-form">
            <div>
              <div class="ai-label">
                <span id="lblTaskType">Task type</span>
                <span class="badge" id="lblTaskTypeBadge">Auto from left</span>
              </div>
              <input id="taskTypeInput" class="ai-input" type="text" value="Legal letters & contract drafts" />
            </div>

            <div>
              <div class="ai-label"><span id="lblLanguage">Language</span></div>
              <select id="languageSelect" class="ai-select">
                <option value="English">English</option>
                <option value="ä¸­æ–‡">ä¸­æ–‡</option>
              </select>
            </div>

            <div>
              <div class="ai-label"><span id="lblTone">Tone</span></div>
              <select id="toneSelect" class="ai-select">
                <option value="calm, respectful">Calm, respectful</option>
                <option value="firm, polite">Firm, polite</option>
                <option value="urgent but respectful">Urgent but respectful</option>
              </select>
            </div>

            <div>
              <div class="ai-label"><span id="lblRecipient">Recipient (optional)</span></div>
              <input id="recipientInput" class="ai-input" type="text" placeholder="e.g. airline, landlord, lawyer, embassy" />
            </div>

            <div class="ai-form-full">
              <div class="ai-label"><span id="lblDetails">What happened? (you can be brief)</span></div>
              <textarea
                id="detailsTextarea"
                class="ai-textarea"
                placeholder="Describe the situation in your own words. You can keep it short; the desk will expand it for you."
              ></textarea>
            </div>

            <!-- ä¸Šä¼ é™„ä»¶ -->
            <div class="ai-form-full">
              <div class="ai-label"><span id="lblAttachments">Attachments (optional)</span></div>
              <div class="upload-wrapper">
                <label class="upload-label">
                  <span class="icon">ğŸ“</span>
                  <span id="uploadBtnText">Upload screenshots / PDFs</span>
                  <input
                    id="attachmentInput"
                    type="file"
                    multiple
                    accept=".pdf,.jpg,.jpeg,.png,.heic,.txt,.doc,.docx"
                  />
                </label>
                <div class="upload-filename" id="uploadFileName">No file selected</div>
                <div class="ai-attach-note" id="attachNote">
                  The desk can read simple screenshots, scans and PDFs for preview only. Nothing is stored.
                </div>
              </div>
            </div>
          </div>

          <div class="ai-footer-row">
            <div class="ai-left-buttons">
              <button type="button" class="ai-secondary-btn" id="btnClear"><span>Reset</span></button>
              <button type="button" class="ai-secondary-btn" id="btnPasteExample">
                <span id="btnPasteExampleText">Paste an example case</span>
              </button>
            </div>
            <div class="ai-left-buttons">
              <button type="button" class="ai-generate-btn" id="aiGenerateBtn">
                <span id="aiGenerateBtnText">Generate preview draft</span>
              </button>
              <div class="ai-status" id="aiStatus">
                <span id="aiStatusText">
                  System will draft about 30% of the letter as a preview only.
                </span>
              </div>
            </div>
          </div>

          <!-- é¢„è§ˆ + ç»ç’ƒæ¨¡ç³Šé®ç½© -->
          <div class="ai-preview-container">
            <div class="ai-preview-box" id="aiPreviewBox">
              <div class="ai-preview-placeholder" id="aiPreviewPlaceholder">
                Your 30% preview draft will appear here. It is not saved, not sent
                to any company or person. When you are happy with the direction,
                you can open a full Desk and continue privately.
              </div>
            </div>
            <div class="ai-preview-overlay" id="aiPreviewOverlay">
              <div class="ai-preview-overlay-text" id="overlayText">
                Preview only â€” about 30% of the full letter. Upgrade below to unlock the complete version.
              </div>
              <button type="button" class="ai-preview-overlay-btn" id="overlayUpgradeBtn">
                <span id="overlayBtnText">Upgrade to full letter</span> â†’
              </button>
            </div>
          </div>
        </section>
      </section>

      <!-- Step 2ï¼šä»˜æ¬¾ + å®Œæ•´ä¿¡ä»¶ -->
      <section class="full-card" id="fullLetterSection">
        <div class="full-grid">
          <div>
            <div class="full-step-title" id="fullStepTitle">Step 2 â€” Payment & full letter</div>
            <div class="full-step-sub" id="fullStepSub">
              After you pay once for this main letter, you can unlock the complete, ready-to-send version here.
            </div>

            <div class="full-pay-card">
              <div class="full-price-row">
                <div class="full-price-label" id="fullPriceLabel">Full letter service</div>
                <div class="full-price-value" id="fullPriceValue">USD 29.9</div>
              </div>
              <a
                href="#"
                target="_blank"
                rel="noopener"
                class="pay-btn"
                id="paddlePayLink"
              >
                <span id="payBtnText">Pay now via Paddle</span>
              </a>
              <div class="full-step-sub" style="margin-top:8px;" id="fullPayNote">
                Payment opens in a new secure tab. After payment, return to this page and confirm.
              </div>
              <label class="full-confirm-row">
                <input type="checkbox" id="paymentConfirmCheckbox" style="margin-top:2px;" />
                <span id="paymentConfirmLabel">
                  I confirm that I have completed the payment for this full letter.
                </span>
              </label>
            </div>

            <div class="full-generate-row">
              <button type="button" class="ai-generate-btn" id="generateFullBtn">
                <span id="generateFullBtnText">Generate full letter</span>
              </button>
              <div class="full-status" id="fullStatusText">
                Please generate a preview first, then pay and confirm before unlocking the full letter.
              </div>
            </div>
          </div>

          <div class="full-output-box" id="fullOutputBox">
            <div class="full-output-placeholder" id="fullOutputPlaceholder">
              After you pay and click â€œGenerate full letterâ€, your complete letter will appear here.
              It is not saved or sent to any company â€” only you see it.
            </div>
          </div>
        </div>
      </section>
    </main>
  </div>

  <script>
    // ===== å…¨å±€çŠ¶æ€ =====
    const serviceItems = document.querySelectorAll(".service-item");
    const taskTypeInput = document.getElementById("taskTypeInput");

    const aiGenerateBtn = document.getElementById("aiGenerateBtn");
    const aiStatusText = document.getElementById("aiStatusText");
    const aiPreviewBox = document.getElementById("aiPreviewBox");
    const aiPreviewPlaceholder = document.getElementById("aiPreviewPlaceholder");
    const aiPreviewOverlay = document.getElementById("aiPreviewOverlay");
    const overlayUpgradeBtn = document.getElementById("overlayUpgradeBtn");
    const overlayTextEl = document.getElementById("overlayText");
    const overlayBtnTextEl = document.getElementById("overlayBtnText");

    const toneSelect = document.getElementById("toneSelect");
    const languageSelect = document.getElementById("languageSelect");
    const recipientInput = document.getElementById("recipientInput");
    const detailsTextarea = document.getElementById("detailsTextarea");

    const attachmentInput = document.getElementById("attachmentInput");
    const uploadFileNameEl = document.getElementById("uploadFileName");

    const btnClear = document.getElementById("btnClear");
    const btnPasteExample = document.getElementById("btnPasteExample");

    // Step 2
    const fullOutputBox = document.getElementById("fullOutputBox");
    const fullOutputPlaceholder = document.getElementById("fullOutputPlaceholder");
    const generateFullBtn = document.getElementById("generateFullBtn");
    const fullStatusText = document.getElementById("fullStatusText");
    const paymentConfirmCheckbox = document.getElementById("paymentConfirmCheckbox");
    const fullLetterSection = document.getElementById("fullLetterSection");

    let fullDraft = "";
    let currentLang = "en";
    let attachmentsState = []; // { name,type,base64 }

    // ===== å·¦ä¾§æœåŠ¡å¯ç‚¹å‡» =====
    serviceItems.forEach((btn) => {
      btn.addEventListener("click", () => {
        serviceItems.forEach((b) => b.classList.remove("active"));
        btn.classList.add("active");
        const task = btn.getAttribute("data-task") || "";
        if (task) taskTypeInput.value = task;
      });
    });

    // ===== å¤„ç†é™„ä»¶ï¼Œè½¬ base64 =====
    attachmentInput.addEventListener("change", () => {
      const files = Array.from(attachmentInput.files || []);
      attachmentsState = [];
      if (!files.length) {
        uploadFileNameEl.textContent =
          currentLang === "zh" ? "æœªé€‰æ‹©ä»»ä½•æ–‡ä»¶" : "No file selected";
        return;
      }

      uploadFileNameEl.textContent =
        files.length === 1
          ? files[0].name
          : (currentLang === "zh"
              ? `${files.length} ä¸ªæ–‡ä»¶å·²é€‰æ‹©`
              : `${files.length} files selected`);

      // è¿™é‡Œç®€å•è¯»å–ä¸º base64ï¼Œé¢„è§ˆæ—¶å‘ç»™åç«¯
      files.forEach((file) => {
        const reader = new FileReader();
        reader.onload = () => {
          const base64 = String(reader.result || "").split(",")[1] || "";
          attachmentsState.push({
            name: file.name,
            type: file.type || "attachment",
            base64,
          });
        };
        reader.readAsDataURL(file);
      });
    });

    // ===== é¢„è§ˆæ˜¾ç¤ºé€»è¾‘ï¼šåªå±•ç¤º ~30% =====
    function renderPreviewOnly() {
      if (!fullDraft) {
        aiPreviewPlaceholder.style.display = "block";
        aiPreviewBox.textContent = "";
        aiPreviewOverlay.style.display = "none";
        return;
      }
      aiPreviewPlaceholder.style.display = "none";

      const len = fullDraft.length;
      const cut = Math.max(200, Math.floor(len * 0.3));
      let visible = fullDraft.slice(0, cut);
      if (cut < len) {
        visible += currentLang === "zh"
          ? "\n\n[â€¦â€¦ é¢„è§ˆåˆ°æ­¤ç»“æŸï¼Œä¸‹é¢å†…å®¹ä»…åœ¨å‡çº§åè§£é” â€¦â€¦]"
          : "\n\n[... preview stops here, the rest is unlocked after upgrade ...]";
      }
      aiPreviewBox.textContent = visible;
      aiPreviewOverlay.style.display = "flex";
    }

    // ===== è°ƒç”¨åå°ç”Ÿæˆé¢„è§ˆ =====
    async function callPreview() {
      const taskType  = (taskTypeInput.value || "").trim() || (currentLang === "zh" ? "å†™ä½œä»»åŠ¡" : "Writing task");
      const tone      = (toneSelect.value || "calm, respectful").toString();
      const language  = (languageSelect.value || "English").toString();
      const recipient = (recipientInput.value || "").toString();
      const details   = (detailsTextarea.value || "").toString();

      aiGenerateBtn.disabled = true;
      aiStatusText.textContent = currentLang === "zh"
        ? "ç³»ç»Ÿæ­£åœ¨ç”Ÿæˆé¢„è§ˆè‰ç¨¿â€¦"
        : "The desk is drafting a preview for youâ€¦";

      try {
        const res = await fetch("https://aurum-task-worker.sophieinbg.workers.dev/api/generate", {
          method: "POST",
          headers: { "Content-Type": "application/json" },
          body: JSON.stringify({
            taskType,
            tone,
            language,
            recipient,
            details,
            attachments: attachmentsState || []
          })
        });

        let data = {};
        try { data = await res.json(); } catch (e) { data = {}; }

        if (!res.ok || !data.ok) {
          const errMsg = (data && data.error) ? String(data.error) : ("HTTP " + res.status);
          console.error("Backend error:", errMsg);
          aiStatusText.textContent = currentLang === "zh"
            ? "åç«¯æŠ¥é”™ï¼š" + errMsg
            : "Backend error: " + errMsg;
          return;
        }

        if (!data.preview) {
          aiStatusText.textContent = currentLang === "zh"
            ? "åç«¯æ²¡æœ‰è¿”å›é¢„è§ˆå†…å®¹ã€‚"
            : "Backend returned no preview content.";
          return;
        }

        fullDraft = String(data.preview || "").trim();
        renderPreviewOnly();

        aiStatusText.textContent = currentLang === "zh"
          ? "é¢„è§ˆå®Œæˆã€‚ä½ å¯ä»¥å…ˆåœ¨è¿™é‡Œç¡®è®¤æ–¹å‘ï¼Œç„¶ååœ¨ä¸‹æ–¹å‡çº§ä¸ºå®Œæ•´ä¿¡ä»¶ã€‚"
          : "Preview ready. Check the direction here, then upgrade below to unlock the full letter.";
      } catch (err) {
        console.error("Frontend error:", err);
        aiStatusText.textContent = currentLang === "zh"
          ? "å‰ç«¯é”™è¯¯ï¼š" + (err && err.message ? err.message : String(err))
          : "Frontend error: " + (err && err.message ? err.message : String(err));
      } finally {
        aiGenerateBtn.disabled = false;
      }
    }

    aiGenerateBtn.addEventListener("click", callPreview);

    // ===== è¾…åŠ©æŒ‰é’® =====
    btnClear.addEventListener("click", () => {
      recipientInput.value = "";
      detailsTextarea.value = "";
      attachmentInput.value = "";
      attachmentsState = [];
      uploadFileNameEl.textContent =
        currentLang === "zh" ? "æœªé€‰æ‹©ä»»ä½•æ–‡ä»¶" : "No file selected";
      fullDraft = "";
      aiPreviewBox.textContent = "";
      aiPreviewPlaceholder.style.display = "block";
      aiPreviewOverlay.style.display = "none";
      aiStatusText.textContent = currentLang === "zh"
        ? "ç³»ç»Ÿåªä¼šç”Ÿæˆçº¦ 30% çš„é¢„è§ˆè‰ç¨¿ï¼Œä¸ä¼šä¿å­˜ä¹Ÿä¸ä¼šå‘é€ã€‚"
        : "System will draft about 30% of the letter as a preview only.";
    });

    btnPasteExample.addEventListener("click", () => {
      if (detailsTextarea.value.trim()) return;
      if (languageSelect.value === "ä¸­æ–‡" || currentLang === "zh") {
        detailsTextarea.value =
          "æˆ‘åœ¨å›å›½æ—…é€”ä¸­é‡åˆ°èˆªç­å¤§é¢ç§¯å»¶è¯¯ï¼Œå¯¼è‡´æˆ‘æ— æ³•æŒ‰æ—¶è½¬æœºå¹¶é”™è¿‡åç»­è¡Œç¨‹ï¼Œèˆªç©ºå…¬å¸åªæä¾›äº†å¾ˆå°‘çš„é¤é£Ÿåˆ¸ï¼Œä¹Ÿæ²¡æœ‰ç»™å‡ºæ˜ç¡®çš„èµ”å¿æ–¹æ¡ˆã€‚";
      } else {
        detailsTextarea.value =
          "During my return trip, my flight was heavily delayed which made me miss my connection and important meetings. The airline only gave a small meal voucher and has not offered a clear compensation plan.";
      }
    });

    // ===== å‡çº§æŒ‰é’®ï¼šæ»šåŠ¨åˆ° Step 2 =====
    overlayUpgradeBtn.addEventListener("click", () => {
      fullLetterSection.scrollIntoView({ behavior: "smooth", block: "start" });
    });

    // ===== Step 2ï¼šç”Ÿæˆå®Œæ•´ä¿¡ä»¶ï¼ˆå‰ç«¯è§£é”ï¼‰ =====
    generateFullBtn.addEventListener("click", () => {
      if (!fullDraft) {
        fullStatusText.textContent = currentLang === "zh"
          ? "è¯·å…ˆåœ¨ä¸Šæ–¹ç”Ÿæˆä¸€æ¬¡é¢„è§ˆè‰ç¨¿ã€‚"
          : "Please generate a preview first above.";
        return;
      }
      if (!paymentConfirmCheckbox.checked) {
        fullStatusText.textContent = currentLang === "zh"
          ? "è¯·å…ˆå®Œæˆæ”¯ä»˜ï¼Œå¹¶å‹¾é€‰â€œæˆ‘å·²å®Œæˆä»˜æ¬¾â€ã€‚"
          : "Please complete the payment and tick the confirmation box first.";
        return;
      }

      fullOutputPlaceholder.style.display = "none";
      fullOutputBox.textContent = fullDraft;
      fullStatusText.textContent = currentLang === "zh"
        ? "å®Œæ•´ä¿¡ä»¶å·²ç”Ÿæˆã€‚ä½ å¯ä»¥å¤åˆ¶ã€å¾®è°ƒï¼Œç„¶åè‡ªè¡Œå‘é€ã€‚ç³»ç»Ÿä¸ä¼šè‡ªåŠ¨ä»£ä½ å‘é€ã€‚"
        : "Full letter generated. You can copy and adjust it, then send in your own channel. Nothing is auto-sent.";
      // åŒæ—¶è®©é¡µé¢ç¨å¾®å¾€ä¸‹æ»šä¸€ç‚¹ï¼Œç¡®ä¿ç”¨æˆ·çœ‹åˆ°
      fullLetterSection.scrollIntoView({ behavior: "smooth", block: "center" });
    });

    // ===== ç®€å•ä¸­è‹±æ–‡åˆ‡æ¢ =====
    const langButtons = document.querySelectorAll(".lang-btn");

    const i18n = {
      en: {
        brandSub: "Private writing & resolution desk",
        navHome: "Home",
        navServices: "Services",
        navFlow: "Flow",
        navPricing: "Pricing",
        loginBtn: "Login / My Desk",

        flowPill: "Flow",
        flowTitle: "Starting a task is intentionally simple",
        flowSubtitle:
          "This page lets you pick one serious scenario and open a focused task desk. You can always change scenario later â€” nothing is submitted until you confirm inside your Desk.",
        chip1Label: "Share what happened.",
        chip1Text:
          "Upload screenshots, letters, or describe the situation in your own words.",
        chip2Label: "Clarify who and what.",
        chip2Text:
          "Tell us who you are writing to and what outcome you hope for.",
        chip3Label: "Receive a ready-to-submit letter.",
        chip3Text:
          "You review, add personal details if needed, and then send it on.",

        serviceCardTitle: "5 core services",
        serviceCardMini: "Pick one scenario to open a desk",

        aiTitle: "Preview draft window",
        aiTitlePill: "System only drafts ~30% preview",
        aiSubtitle:
          "Let the desk draft about 30% of the letter structure and opening for you. Nothing is saved or sent.",
        aiHint1: "âœ“ No login required for preview",
        aiHint2: "âœ“ Region-free preview",
        aiHint3: "âœ“ You can still change everything later",

        lblTaskType: "Task type",
        lblTaskTypeBadge: "Auto from left",
        lblLanguage: "Language",
        lblTone: "Tone",
        lblRecipient: "Recipient (optional)",
        lblDetails: "What happened? (you can be brief)",

        lblAttachments: "Attachments (optional)",
        uploadBtnText: "Upload screenshots / PDFs",
        uploadNone: "No file selected",
        uploadMulti: n => `${n} files selected`,
        attachNote:
          "The desk can read simple screenshots, scans and PDFs for preview only. Nothing is stored.",

        btnExample: "Paste an example case",
        btnPreview: "Generate preview draft",
        statusDefault:
          "System will draft about 30% of the letter as a preview only.",
        previewPlaceholder:
          "Your 30% preview draft will appear here. It is not saved or sent to anyone. When you are happy with the direction, you can upgrade below to unlock the full letter.",

        overlayText:
          "Preview only â€” about 30% of the full letter. Upgrade below to unlock the complete version.",
        overlayBtn: "Upgrade to full letter",

        fullStepTitle: "Step 2 â€” Payment & full letter",
        fullStepSub:
          "After you pay once for this main letter, you can unlock the complete, ready-to-send version here.",
        fullPriceLabel: "Full letter service",
        fullPriceValue: "USD 29.9",
        payBtnText: "Pay now via Paddle",
        fullPayNote:
          "Payment opens in a new secure tab. After payment, return to this page and confirm.",
        paymentConfirmLabel:
          "I confirm that I have completed the payment for this full letter.",
        generateFullBtnText: "Generate full letter",
        fullStatusInit:
          "Please generate a preview first, then pay and confirm before unlocking the full letter.",
        fullOutputPlaceholder:
          "After you pay and click â€œGenerate full letterâ€, your complete letter will appear here. It is not saved or sent to any company â€” only you see it."
      },
      zh: {
        brandSub: "å®‰é™è€Œä¸“ä¸šçš„å†™ä½œä¸ç”³è¯‰ä»»åŠ¡å°",
        navHome: "é¦–é¡µ",
        navServices: "æœåŠ¡",
        navFlow: "æµç¨‹",
        navPricing: "ä»·æ ¼",
        loginBtn: "ç™»å½• / æˆ‘çš„ä»»åŠ¡å°",

        flowPill: "æµç¨‹",
        flowTitle: "å¼€å§‹ä¸€ä¸ªä»»åŠ¡ï¼Œè¢«åˆ»æ„è®¾è®¡å¾—å¾ˆç®€å•",
        flowSubtitle:
          "åœ¨è¿™é‡Œï¼Œä½ åªéœ€å…ˆé€‰ä¸€ä¸ªæœ€é‡è¦çš„åœºæ™¯ï¼Œæ‰“å¼€ä¸€ä¸ªä¸“æ³¨çš„ä»»åŠ¡å°ã€‚åé¢éšæ—¶å¯ä»¥è°ƒæ•´åœºæ™¯ï¼Œåªæœ‰åœ¨ä½ ç¡®è®¤åæ‰ä¼šæ­£å¼æäº¤ã€‚",
        chip1Label: "å…ˆè¯´æ¸…æ¥šå‘ç”Ÿäº†ä»€ä¹ˆã€‚",
        chip1Text:
          "å¯ä»¥ä¸Šä¼ æˆªå›¾ã€ä¿¡ä»¶ï¼Œæˆ–è€…ç”¨ä½ è‡ªå·±çš„è¯ç®€å•æè¿°æƒ…å†µï¼Œä¸éœ€è¦å®Œç¾ã€‚",
        chip2Label: "å†è¯´æ˜å¯¹è±¡å’Œè¯‰æ±‚ã€‚",
        chip2Text:
          "å‘Šè¯‰æˆ‘ä»¬ä½ è¦å†™ç»™è°ï¼ˆå¾‹å¸ˆã€é¢†é¦†ã€ä¿é™©å…¬å¸ã€é›‡ä¸»ã€èˆªç©ºå…¬å¸ç­‰ï¼‰ä»¥åŠç†æƒ³ç»“æœã€‚",
        chip3Label: "æ‹¿åˆ°ä¸€å°å¯ä»¥ç›´æ¥é€’äº¤çš„ä¿¡ã€‚",
        chip3Text:
          "ä½ å¯ä»¥å†è¡¥å……ä¸ªäººä¿¡æ¯ã€åˆ æ”¹è¯­æ°”ï¼Œç¡®è®¤åå†é€šè¿‡é‚®ç®±ã€ç³»ç»Ÿæˆ–æ‰“å°å¯„å‡ºã€‚",

        serviceCardTitle: "5 ä¸ªæ ¸å¿ƒæœåŠ¡åœºæ™¯",
        serviceCardMini: "å…ˆé€‰ä¸€ä¸ªåœºæ™¯æ‰“å¼€ä»»åŠ¡å°",

        aiTitle: "é¢„è§ˆè‰ç¨¿å°çª—å£",
        aiTitlePill: "ç³»ç»Ÿåªä¼šç”Ÿæˆçº¦ 30% é¢„è§ˆè‰ç¨¿",
        aiSubtitle:
          "å…ˆè®©ä»»åŠ¡å°æ›¿ä½ èµ·ä¸€æ®µå¤§çº¦ 30% çš„ç»“æ„å’Œå¼€å¤´ã€‚æ­¤æ­¥éª¤ä¸ä¼šä¿å­˜ï¼Œä¹Ÿä¸ä¼šå‘é€ç»™ä»»ä½•æœºæ„ã€‚",
        aiHint1: "âœ“ æ— éœ€ç™»å½•å³å¯é¢„è§ˆ",
        aiHint2: "âœ“ æ— åœ°åŒºé™åˆ¶é¢„è§ˆ",
        aiHint3: "âœ“ åé¢å¯ä»¥éšæ—¶å…¨éƒ¨ä¿®æ”¹",

        lblTaskType: "ä»»åŠ¡ç±»å‹",
        lblTaskTypeBadge: "ä»å·¦ä¾§è‡ªåŠ¨å¸¦å…¥",
        lblLanguage: "å†™ä½œè¯­è¨€",
        lblTone: "è¯­æ°”",
        lblRecipient: "æ”¶ä»¶æ–¹ï¼ˆå¯é€‰ï¼‰",
        lblDetails: "ç®€å•è®²è®²å‘ç”Ÿäº†ä»€ä¹ˆ",

        lblAttachments: "ä¸Šä¼ é™„ä»¶ï¼ˆå¯é€‰ï¼‰",
        uploadBtnText: "ä¸Šä¼ æˆªå›¾ã€ä¿¡ä»¶ã€PDF æ–‡ä»¶",
        uploadNone: "æœªé€‰æ‹©ä»»ä½•æ–‡ä»¶",
        uploadMulti: n => `${n} ä¸ªæ–‡ä»¶å·²é€‰æ‹©`,
        attachNote:
          "æ”¯æŒç®€å•çš„æˆªå›¾ã€ç…§ç‰‡å’Œ PDFï¼Œä»…ç”¨äºæœ¬æ¬¡é¢„è§ˆï¼Œä¸ä¼šé•¿æœŸä¿å­˜ã€‚",

        btnExample: "ç²˜è´´ä¸€ä¸ªç¤ºä¾‹æ¡ˆä¾‹",
        btnPreview: "ç”Ÿæˆé¢„è§ˆè‰ç¨¿",
        statusDefault:
          "ç³»ç»Ÿåªä¼šç”Ÿæˆçº¦ 30% çš„é¢„è§ˆè‰ç¨¿ï¼Œä¸ä¼šä¿å­˜ä¹Ÿä¸ä¼šå‘é€ã€‚",
        previewPlaceholder:
          "ç³»ç»Ÿç”Ÿæˆçš„å¤§çº¦ 30% é¢„è§ˆå†…å®¹ä¼šæ˜¾ç¤ºåœ¨è¿™é‡Œã€‚å®ƒä¸ä¼šè¢«ä¿å­˜ï¼Œä¹Ÿä¸ä¼šå‘ç»™ä»»ä½•äººã€‚ç¡®è®¤æ–¹å‘åï¼Œä½ å¯ä»¥åœ¨ä¸‹æ–¹å‡çº§ä¸ºå®Œæ•´ä¿¡ä»¶ã€‚",

        overlayText:
          "å½“å‰ä»…ä¸ºçº¦ 30% çš„é¢„è§ˆè‰ç¨¿ï¼Œä»˜æ¬¾åå¯è§£é”å®Œæ•´ä¿¡ä»¶ã€‚",
        overlayBtn: "å‡çº§ä¸ºå®Œæ•´ä¿¡ä»¶",

        fullStepTitle: "æ­¥éª¤ 2 â€” ä»˜æ¬¾å¹¶è§£é”å®Œæ•´ä¿¡ä»¶",
        fullStepSub:
          "ä¸ºè¿™ä¸€å°ä¸»ä¿¡ä»¶æ”¯ä»˜ä¸€æ¬¡è´¹ç”¨åï¼Œä½ å¯ä»¥åœ¨è¿™é‡Œè§£é”ä¸€å°å¯ä»¥ç›´æ¥é€’äº¤çš„å®Œæ•´ç‰ˆæœ¬ã€‚",
        fullPriceLabel: "å®Œæ•´ä¿¡ä»¶æœåŠ¡",
        fullPriceValue: "USD 29.9",
        payBtnText: "é€šè¿‡ Paddle ç«‹å³ä»˜æ¬¾",
        fullPayNote:
          "ä»˜æ¬¾ä¼šåœ¨æ–°æ ‡ç­¾é¡µä¸­æ‰“å¼€å®‰å…¨æ”¶é“¶å°ã€‚æ”¯ä»˜å®Œæˆåï¼Œè¯·å›åˆ°æ­¤é¡µé¢å‹¾é€‰ç¡®è®¤ã€‚",
        paymentConfirmLabel: "æˆ‘ç¡®è®¤å·²ç»ä¸ºæœ¬æ¬¡å®Œæ•´ä¿¡ä»¶å®Œæˆä»˜æ¬¾ã€‚",
        generateFullBtnText: "ç”Ÿæˆå®Œæ•´ä¿¡ä»¶",
        fullStatusInit:
          "å»ºè®®å…ˆåœ¨ä¸Šæ–¹ç”Ÿæˆé¢„è§ˆï¼Œç„¶åä»˜æ¬¾å¹¶å‹¾é€‰ç¡®è®¤ï¼Œå†è§£é”å®Œæ•´ä¿¡ä»¶ã€‚",
        fullOutputPlaceholder:
          "å®Œæˆä»˜æ¬¾å¹¶ç‚¹å‡»ã€Œç”Ÿæˆå®Œæ•´ä¿¡ä»¶ã€åï¼Œç³»ç»Ÿä¼šåœ¨è¿™é‡Œç”Ÿæˆä¸€å°å®Œæ•´å¯ç”¨çš„ä¿¡ä»¶ã€‚ä¸ä¼šè‡ªåŠ¨å‘é€ï¼Œåªæœ‰ä½ è‡ªå·±å¯ä»¥çœ‹åˆ°ã€‚"
      }
    };

    function applyLang(lang) {
      const t = i18n[lang] || i18n.en;
      currentLang = lang;

      document.getElementById("brandSubText").textContent = t.brandSub;
      document.getElementById("navHome").textContent = t.navHome;
      document.getElementById("navServices").textContent = t.navServices;
      document.getElementById("navFlow").textContent = t.navFlow;
      document.getElementById("navPricing").textContent = t.navPricing;
      document.getElementById("loginBtnText").textContent = t.loginBtn;

      document.getElementById("flowPillText").textContent = t.flowPill;
      document.getElementById("flowTitle").textContent = t.flowTitle;
      document.getElementById("flowSubtitle").textContent = t.flowSubtitle;
      document.getElementById("flowChip1Label").textContent = t.chip1Label;
      document.getElementById("flowChip1Text").textContent = t.chip1Text;
      document.getElementById("flowChip2Label").textContent = t.chip2Label;
      document.getElementById("flowChip2Text").textContent = t.chip2Text;
      document.getElementById("flowChip3Label").textContent = t.chip3Label;
      document.getElementById("flowChip3Text").textContent = t.chip3Text;

      document.getElementById("serviceCardTitle").textContent = t.serviceCardTitle;
      document.getElementById("serviceCardMini").textContent = t.serviceCardMini;

      document.getElementById("aiTitle").firstChild.textContent = t.aiTitle + " ";
      document.getElementById("aiTitlePill").textContent = t.aiTitlePill;
      document.getElementById("aiSubtitle").textContent = t.aiSubtitle;
      document.getElementById("aiHint1").textContent = t.aiHint1;
      document.getElementById("aiHint2").textContent = t.aiHint2;
      document.getElementById("aiHint3").textContent = t.aiHint3;

      document.getElementById("lblTaskType").textContent = t.lblTaskType;
      document.getElementById("lblTaskTypeBadge").textContent = t.lblTaskTypeBadge;
      document.getElementById("lblLanguage").textContent = t.lblLanguage;
      document.getElementById("lblTone").textContent = t.lblTone;
      document.getElementById("lblRecipient").textContent = t.lblRecipient;
      document.getElementById("lblDetails").textContent = t.lblDetails;

      document.getElementById("lblAttachments").textContent = t.lblAttachments;
      document.getElementById("uploadBtnText").textContent = t.uploadBtnText;
      document.getElementById("attachNote").textContent = t.attachNote;

      // æ–‡ä»¶åæ–‡æ¡ˆ
      const files = attachmentInput.files || [];
      if (!files.length) {
        uploadFileNameEl.textContent = t.uploadNone;
      } else if (files.length === 1) {
        uploadFileNameEl.textContent = files[0].name;
      } else {
        uploadFileNameEl.textContent = t.uploadMulti(files.length);
      }

      document.getElementById("btnPasteExampleText").textContent = t.btnExample;
      document.getElementById("aiGenerateBtnText").textContent = t.btnPreview;
      aiStatusText.textContent = t.statusDefault;
      document.getElementById("aiPreviewPlaceholder").textContent = t.previewPlaceholder;

      overlayTextEl.textContent = t.overlayText;
      overlayBtnTextEl.textContent = t.overlayBtn;

      document.getElementById("fullStepTitle").textContent = t.fullStepTitle;
      document.getElementById("fullStepSub").textContent = t.fullStepSub;
      document.getElementById("fullPriceLabel").textContent = t.fullPriceLabel;
      document.getElementById("fullPriceValue").textContent = t.fullPriceValue;
      document.getElementById("payBtnText").textContent = t.payBtnText;
      document.getElementById("fullPayNote").textContent = t.fullPayNote;
      document.getElementById("paymentConfirmLabel").textContent = t.paymentConfirmLabel;
      document.getElementById("generateFullBtnText").textContent = t.generateFullBtnText;
      fullStatusText.textContent = t.fullStatusInit;
      fullOutputPlaceholder.textContent = t.fullOutputPlaceholder;

      // åˆ‡æ¢å†™ä½œè¯­è¨€ä¸‹æ‹‰
      if (lang === "zh") {
        languageSelect.value = "ä¸­æ–‡";
      } else {
        languageSelect.value = "English";
      }

      // é¡¶éƒ¨è¯­è¨€æŒ‰é’®æ ·å¼
      langButtons.forEach((b) => {
        b.classList.toggle("active", b.dataset.lang === lang);
      });

      localStorage.setItem("aurum_lang", lang);
    }

    langButtons.forEach((btn) => {
      btn.addEventListener("click", () => {
        const lang = btn.dataset.lang || "en";
        applyLang(lang);
      });
    });

    // åˆå§‹è¯­è¨€ï¼šè·Ÿé¦–é¡µåŒæ­¥ï¼ˆlocalStorageï¼‰
    (function initLang() {
      const saved = localStorage.getItem("aurum_lang");
      if (saved === "zh" || saved === "en") applyLang(saved);
      else applyLang("en");
    })();
  </script>
</body>
</html>
