<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Aurum Task Desk — Terms of Use</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />

  <!-- Favicon -->
  <link rel="icon" href="favicon.png" />
  <link rel="icon" type="image/png" href="favicon.png" />

  <!-- Google tag (gtag.js) -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-NEY7RNB5S"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){ dataLayer.push(arguments); }
    gtag('js', new Date());
    gtag('config', 'G-NEY7RNB5S');
  </script>

  <style>
    * { box-sizing: border-box; margin: 0; padding: 0; }
    :root {
      --bg-deep: #020617;
      --bg-card: #020617;
      --border-subtle: rgba(148, 163, 184, 0.35);
      --text-main: #e5e7eb;
      --text-soft: #cbd5f5;
      --gold: #fbbf24;
      --accent-blue: #38bdf8;
      --shadow-strong: 0 32px 120px rgba(0,0,0,0.9);
      --radius-xl: 28px;
      --radius-lg: 18px;
      --radius-pill: 999px;
      --blur-strong: 40px;
    }
    body {
      min-height: 100vh;
      font-family: -apple-system, BlinkMacSystemFont, "SF Pro Text", system-ui,
        "Segoe UI", sans-serif;
      background: radial-gradient(circle at top, #020617 0%, #020617 40%, #000 100%);
      color: var(--text-main);
      display: flex;
      justify-content: center;
      padding: 24px 12px 48px;
    }
    .page-shell {
      width: 100%;
      max-width: 1120px;
      margin: 0 auto;
    }

    /* 顶部导航，同上 */
    .top-nav {
      display: flex;
      align-items: center;
      justify-content: space-between;
      gap: 12px;
      padding: 10px 18px;
      margin-bottom: 20px;
      border-radius: 999px;
      background: radial-gradient(circle at top left, rgba(15,23,42,0.9), rgba(2,6,23,0.96));
      border: 1px solid rgba(148,163,184,0.4);
      box-shadow: 0 14px 40px rgba(15,23,42,0.9);
      backdrop-filter: blur(18px);
      position: sticky;
      top: 10px;
      z-index: 30;
    }
    .brand-block {
      display: flex;
      align-items: center;
      gap: 10px;
    }
    .brand-avatar {
      width: 30px;
      height: 30px;
      border-radius: 999px;
      background: conic-gradient(
        from 210deg,
        #0ea5e9,
        #22d3ee,
        #fbbf24,
        #eab308,
        #0ea5e9
      );
      display: flex;
      align-items: center;
      justify-content: center;
      box-shadow:
        0 0 0 1px rgba(148,163,184,0.9),
        0 0 40px rgba(14,165,233,0.8);
    }
    .brand-avatar-inner {
      width: 100%;
      height: 100%;
      border-radius: inherit;
      background: radial-gradient(circle at 30% 20%, #0f172a, #020617);
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 11px;
      font-weight: 700;
      letter-spacing: 0.06em;
      color: #fefce8;
    }
    .brand-text-block {
      display: flex;
      flex-direction: column;
      gap: 1px;
    }
    .brand-name {
      font-size: 0.95rem;
      font-weight: 600;
      letter-spacing: 0.08em;
      text-transform: uppercase;
    }
    .brand-sub {
      font-size: 0.72rem;
      color: var(--text-soft);
      letter-spacing: 0.06em;
      text-transform: uppercase;
    }
    .nav-links {
      display: flex;
      align-items: center;
      gap: 14px;
      font-size: 0.8rem;
    }
    .nav-main-links {
      display: flex;
      align-items: center;
      gap: 12px;
    }
    .nav-link {
      color: var(--text-soft);
      text-decoration: none;
      padding: 4px 10px;
      border-radius: 999px;
      border: 1px solid transparent;
      transition: all 0.16s ease-out;
      cursor: pointer;
      white-space: nowrap;
    }
    .nav-link:hover {
      color: #e5e7eb;
      border-color: rgba(148,163,184,0.6);
      background: radial-gradient(circle at top, rgba(15,23,42,0.9), rgba(2,6,23,0.9));
    }
    .nav-link--active {
      color: var(--gold);
      border-color: rgba(251,191,36,0.8);
      background: radial-gradient(circle at top, rgba(15,23,42,0.85), rgba(2,6,23,0.95));
      box-shadow: 0 0 0 1px rgba(251,191,36,0.5);
    }
    .nav-right {
      display: flex;
      align-items: center;
      gap: 14px;
    }
    .lang-toggle {
      display: inline-flex;
      align-items: center;
      border-radius: 999px;
      border: 1px solid rgba(148,163,184,0.6);
      padding: 2px;
      background: radial-gradient(circle at top left,#020617,#020617);
    }
    .lang-btn {
      border: none;
      outline: none;
      padding: 4px 12px;
      font-size: 11px;
      border-radius: 999px;
      background: transparent;
      color: var(--text-soft);
      cursor: pointer;
      transition: all 0.18s ease;
      min-width: 38px;
    }
    .lang-btn.active {
      background: linear-gradient(135deg,#fbbf24,#f97316);
      color: #111827;
      box-shadow: 0 0 0 1px rgba(248,250,252,0.9);
    }
    .primary-btn {
      border-radius: 999px;
      border: 1px solid rgba(148,163,184,0.6);
      background: radial-gradient(circle at top, rgba(15,23,42,0.9), rgba(2,6,23,0.96));
      color: #e5e7eb;
      padding: 6px 14px;
      font-size: 0.8rem;
      font-weight: 500;
      display: inline-flex;
      align-items: center;
      gap: 6px;
      cursor: pointer;
      box-shadow: 0 14px 40px rgba(15,23,42,0.9);
      transition: transform 0.14s ease, box-shadow 0.14s ease, border-color 0.14s ease, color 0.14s ease;
      white-space: nowrap;
    }
    .primary-btn span.icon { font-size: 0.9rem; }
    .primary-btn:hover {
      transform: translateY(-1px);
      box-shadow: 0 20px 70px rgba(15,23,42,1);
      border-color: var(--gold);
      color: #fefce8;
    }

    @media (max-width: 900px) {
      .top-nav { border-radius: 18px; padding-inline: 14px; }
    }
    @media (max-width: 720px) {
      body { padding: 18px 8px 32px; }
      .nav-main-links { display: none; }
    }

    .terms-card {
      border-radius: var(--radius-xl);
      background:
        radial-gradient(circle at top left, rgba(56,189,248,0.16) 0%, transparent 60%),
        radial-gradient(circle at bottom right, rgba(251,191,36,0.12) 0%, transparent 55%),
        rgba(15,23,42,0.97);
      border: 1px solid rgba(15,23,42,0.96);
      box-shadow: var(--shadow-strong);
      padding: 26px 24px 28px;
      backdrop-filter: blur(var(--blur-strong));
    }
    .terms-heading-row {
      display: flex;
      flex-wrap: wrap;
      align-items: baseline;
      justify-content: space-between;
      gap: 8px;
      margin-bottom: 18px;
    }
    .terms-title {
      font-size: 24px;
      font-weight: 650;
      letter-spacing: 0.03em;
    }
    .terms-tag {
      font-size: 11px;
      padding: 3px 10px;
      border-radius: 999px;
      border: 1px solid rgba(148,163,184,0.7);
      color: var(--text-soft);
      background: rgba(15,23,42,0.98);
    }
    .terms-intro {
      font-size: 13px;
      color: var(--text-soft);
      line-height: 1.7;
      margin-bottom: 18px;
    }
    .terms-updated {
      font-size: 11px;
      color: rgba(148,163,184,0.9);
      margin-bottom: 16px;
    }

    .terms-section {
      border-radius: var(--radius-lg);
      border: 1px solid rgba(148,163,184,0.45);
      background: radial-gradient(circle at top left,#020617,#020617);
      padding: 12px 13px 10px;
      margin-bottom: 12px;
    }
    .terms-section-title {
      font-size: 14px;
      font-weight: 600;
      margin-bottom: 6px;
    }
    .terms-section-body {
      font-size: 12px;
      color: var(--text-soft);
      line-height: 1.7;
    }
    .terms-list {
      margin-top: 6px;
      padding-left: 16px;
      font-size: 12px;
      color: var(--text-soft);
      line-height: 1.6;
    }
    .terms-list li { margin-bottom: 4px; }

    .terms-footer-note {
      margin-top: 14px;
      font-size: 11px;
      color: rgba(148,163,184,0.9);
      line-height: 1.6;
      border-top: 1px dashed rgba(55,65,81,0.9);
      padding-top: 10px;
    }
  </style>
</head>
<body>
  <div class="page-shell">
    <header class="top-nav">
      <div class="brand-block">
        <div class="brand-avatar">
          <div class="brand-avatar-inner">AU</div>
        </div>
        <div class="brand-text-block">
          <div class="brand-name">Aurum Task Desk</div>
          <div class="brand-sub" id="brandSubText">
            Private writing & resolution desk
          </div>
        </div>
      </div>

      <nav class="nav-links">
        <div class="nav-main-links">
          <a href="index.html" class="nav-link" id="navHome">Home</a>
          <a href="desk.html" class="nav-link" id="navDesk">Desk</a>
          <a href="about.html" class="nav-link" id="navAbout">About</a>
          <a href="index.html#contact" class="nav-link" id="navContact">Contact</a>
        </div>
        <div class="nav-right">
          <div class="lang-toggle">
            <button class="lang-btn active" data-lang="en" id="btnLangEn">EN</button>
            <button class="lang-btn" data-lang="zh" id="btnLangZh">中</button>
          </div>
          <button class="primary-btn">
            <span class="icon">⭑</span>
            <span id="loginBtnText">Login / My Desk</span>
          </button>
        </div>
      </nav>
    </header>

    <main class="terms-card">
      <div class="terms-heading-row">
        <h1 class="terms-title" id="termsTitle">Terms of Use</h1>
        <span class="terms-tag" id="termsTag">Please read with calm attention</span>
      </div>
      <p class="terms-intro" id="termsIntro">
        By accessing or using Aurum Task Desk, you agree to these terms. They are written to be readable for
        older professionals, not as aggressive legalese.
      </p>
      <p class="terms-updated" id="termsUpdated">Last updated: 2025-11-01</p>

      <section class="terms-section">
        <h2 class="terms-section-title" id="t1Title">1. Nature of the service</h2>
        <div class="terms-section-body" id="t1Body">
          <ul class="terms-list">
            <li id="t1Item1">
              Aurum Task Desk is a writing and drafting tool. It helps you prepare letters and documents
              based on the information you provide.
            </li>
            <li id="t1Item2">
              The desk does not replace a lawyer, immigration advisor, doctor or any licensed professional.
              It provides structured text, not legal or medical advice.
            </li>
          </ul>
        </div>
      </section>

      <section class="terms-section">
        <h2 class="terms-section-title" id="t2Title">2. Your responsibilities</h2>
        <div class="terms-section-body" id="t2Body">
          <ul class="terms-list">
            <li id="t2Item1">
              You are responsible for checking all drafts and deciding whether they are suitable for your situation
              before sending them to any third party.
            </li>
            <li id="t2Item2">
              You are responsible for complying with the laws of your country, including what you may or may not send
              to companies, authorities or individuals.
            </li>
            <li id="t2Item3">
              You agree not to use the desk to create illegal content, threats, harassment or spam.
            </li>
          </ul>
        </div>
      </section>

      <section class="terms-section">
        <h2 class="terms-section-title" id="t3Title">3. Accounts, access and security</h2>
        <div class="terms-section-body" id="t3Body">
          <ul class="terms-list">
            <li id="t3Item1">
              If you choose to create an account, you must keep your login details private and notify us if you
              suspect misuse.
            </li>
            <li id="t3Item2">
              The desk owner may suspend or close accounts that abuse the system, attempt to hack it or cause
              harm to other users.
            </li>
          </ul>
        </div>
      </section>

      <section class="terms-section">
        <h2 class="terms-section-title" id="t4Title">4. Payments and refunds</h2>
        <div class="terms-section-body" id="t4Body">
          <ul class="terms-list">
            <li id="t4Item1">
              Fees are charged per letter or per plan, as clearly shown on the pricing or payment page.
            </li>
            <li id="t4Item2">
              Because the service is digital and delivered immediately, refunds may be limited or unavailable,
              except where required by law or where clearly stated on the site.
            </li>
          </ul>
        </div>
      </section>

      <section class="terms-section">
        <h2 class="terms-section-title" id="t5Title">5. No guarantee of outcome</h2>
        <div class="terms-section-body" id="t5Body">
          <ul class="terms-list">
            <li id="t5Item1">
              A well-written letter can help present your case, but it cannot guarantee that a company,
              authority or person will agree with you.
            </li>
            <li id="t5Item2">
              Aurum Task Desk is not responsible for decisions made by airlines, insurers, landlords, embassies,
              employers or family members after they receive your letter.
            </li>
          </ul>
        </div>
      </section>

      <section class="terms-section">
        <h2 class="terms-section-title" id="t6Title">6. Acceptable use</h2>
        <div class="terms-section-body" id="t6Body">
          <ul class="terms-list">
            <li id="t6Item1">
              You agree not to reverse engineer, scrape or copy the service in order to build a competing product.
            </li>
            <li id="t6Item2">
              You agree not to attempt to bypass security measures or access other users' data.
            </li>
          </ul>
        </div>
      </section>

      <section class="terms-section">
        <h2 class="terms-section-title" id="t7Title">7. Changes to the service or these terms</h2>
        <div class="terms-section-body" id="t7Body">
          <ul class="terms-list">
            <li id="t7Item1">
              The desk owner may adjust features, pricing or limits from time to time, especially while the project
              is young and improving.
            </li>
            <li id="t7Item2">
              If the terms change in a material way, a notice will be posted on the site. Continued use means
              you accept the new version.
            </li>
          </ul>
        </div>
      </section>

      <section class="terms-section">
        <h2 class="terms-section-title" id="t8Title">8. Limitation of liability</h2>
        <div class="terms-section-body" id="t8Body">
          <ul class="terms-list">
            <li id="t8Item1">
              To the maximum extent permitted by law, Aurum Task Desk is provided “as is” without warranty.
              We do not promise that it will be available 100% of the time or free from all errors.
            </li>
            <li id="t8Item2">
              The desk owner will not be liable for indirect or consequential losses, such as lost profits,
              missed flights or denied claims, even if the letter was drafted using the desk.
            </li>
          </ul>
        </div>
      </section>

      <section class="terms-section">
        <h2 class="terms-section-title" id="t9Title">9. Governing law</h2>
        <div class="terms-section-body" id="t9Body">
          <p id="t9P1">
            These terms are governed by the laws of the jurisdiction where the desk owner is based, unless
            local consumer law gives you stronger protection in your own country.
          </p>
        </div>
      </section>

      <p class="terms-footer-note" id="termsFooterNote">
        If any part of these terms is found invalid under local law, the remaining parts stay in effect.
        If you do not agree to these terms, please do not use Aurum Task Desk.
      </p>
    </main>
  </div>

  <script>
    const langButtons = document.querySelectorAll(".lang-btn");
    const loginBtnTextEl = document.getElementById("loginBtnText");
    const brandSubText = document.getElementById("brandSubText");
    const navHome = document.getElementById("navHome");
    const navDesk = document.getElementById("navDesk");
    const navAbout = document.getElementById("navAbout");
    const navContact = document.getElementById("navContact");

    let currentLang = "en";
    let currentUser = null;

    const i18n = {
      en: {
        brandSub: "Private writing & resolution desk",
        navHome: "Home",
        navDesk: "Desk",
        navAbout: "About",
        navContact: "Contact",
        loginBtn: "Login / My Desk",

        termsTitle: "Terms of Use",
        termsTag: "Please read with calm attention",
        termsIntro:
          "By accessing or using Aurum Task Desk, you agree to these terms. They are written to be readable for older professionals, not as aggressive legalese.",
        termsUpdated: "Last updated: 2025-11-01",

        t1Title: "1. Nature of the service",
        t1Item1:
          "Aurum Task Desk is a writing and drafting tool. It helps you prepare letters and documents based on the information you provide.",
        t1Item2:
          "The desk does not replace a lawyer, immigration advisor, doctor or any licensed professional. It provides structured text, not legal or medical advice.",

        t2Title: "2. Your responsibilities",
        t2Item1:
          "You are responsible for checking all drafts and deciding whether they are suitable for your situation before sending them to any third party.",
        t2Item2:
          "You are responsible for complying with the laws of your country, including what you may or may not send to companies, authorities or individuals.",
        t2Item3:
          "You agree not to use the desk to create illegal content, threats, harassment or spam.",

        t3Title: "3. Accounts, access and security",
        t3Item1:
          "If you choose to create an account, you must keep your login details private and notify us if you suspect misuse.",
        t3Item2:
          "The desk owner may suspend or close accounts that abuse the system, attempt to hack it or cause harm to other users.",

        t4Title: "4. Payments and refunds",
        t4Item1:
          "Fees are charged per letter or per plan, as clearly shown on the pricing or payment page.",
        t4Item2:
          "Because the service is digital and delivered immediately, refunds may be limited or unavailable, except where required by law or where clearly stated on the site.",

        t5Title: "5. No guarantee of outcome",
        t5Item1:
          "A well-written letter can help present your case, but it cannot guarantee that a company, authority or person will agree with you.",
        t5Item2:
          "Aurum Task Desk is not responsible for decisions made by airlines, insurers, landlords, embassies, employers or family members after they receive your letter.",

        t6Title: "6. Acceptable use",
        t6Item1:
          "You agree not to reverse engineer, scrape or copy the service in order to build a competing product.",
        t6Item2:
          "You agree not to attempt to bypass security measures or access other users' data.",

        t7Title: "7. Changes to the service or these terms",
        t7Item1:
          "The desk owner may adjust features, pricing or limits from time to time, especially while the project is young and improving.",
        t7Item2:
          "If the terms change in a material way, a notice will be posted on the site. Continued use means you accept the new version.",

        t8Title: "8. Limitation of liability",
        t8Item1:
          "To the maximum extent permitted by law, Aurum Task Desk is provided “as is” without warranty. We do not promise that it will be available 100% of the time or free from all errors.",
        t8Item2:
          "The desk owner will not be liable for indirect or consequential losses, such as lost profits, missed flights or denied claims, even if the letter was drafted using the desk.",

        t9Title: "9. Governing law",
        t9P1:
          "These terms are governed by the laws of the jurisdiction where the desk owner is based, unless local consumer law gives you stronger protection in your own country.",

        termsFooterNote:
          "If any part of these terms is found invalid under local law, the remaining parts stay in effect. If you do not agree to these terms, please do not use Aurum Task Desk."
      },
      zh: {
        brandSub: "安静而专业的写作与申诉任务台",
        navHome: "首页",
        navDesk: "Desk 任务台",
        navAbout: "关于我们",
        navContact: "联系我们",
        loginBtn: "登录 / 我的 Desk",

        termsTitle: "使用条款",
        termsTag: "请在冷静状态下阅读完",
        termsIntro:
          "你访问或使用 Aurum Task Desk，即表示同意本使用条款。我们尽量用成熟用户易懂的方式来写，而不是充满敌意的法律黑话。",
        termsUpdated: "最近更新日期：2025-11-01",

        t1Title: "1. 服务的性质",
        t1Item1:
          "Aurum Task Desk 是一款写作与信件草稿工具，根据你提供的信息帮助你起草各类正式文书。",
        t1Item2:
          "本服务不能替代律师、移民顾问、医生或任何持牌专业人士，只提供结构化文字，不构成法律或医疗意见。",

        t2Title: "2. 你的责任",
        t2Item1:
          "你需要在发送前自行审核所有草稿，判断是否适合用于你的具体场景。",
        t2Item2:
          "你有责任遵守所在国家/地区的法律，包括你可以向公司、机构或个人发送什么样的内容。",
        t2Item3:
          "你同意不利用本服务生成违法内容、威胁、骚扰性信息或垃圾邮件。",

        t3Title: "3. 账号、访问与安全",
        t3Item1:
          "如果你选择注册账号，你需要妥善保管登录信息，如有异常应及时通知我们。",
        t3Item2:
          "如发现账号被用于攻击系统、滥用服务或伤害其他用户，站长有权暂停或关闭相关账号。",

        t4Title: "4. 付费与退款",
        t4Item1:
          "费用按单封信件或按方案收取，具体金额以定价页面或付款页面为准。",
        t4Item2:
          "由于服务为即时交付的数字内容，除非法律强制或页面另有明确说明，通常不提供退款。",

        t5Title: "5. 结果不作保证",
        t5Item1:
          "一封好的信件可以帮助你清晰表达立场，但不能保证对方公司、机构或个人一定会同意你的请求。",
        t5Item2:
          "即便你使用任务台生成了信件，Aurum Task Desk 也不对航空公司、保险公司、房东、使馆、雇主或家人做出的决定承担责任。",

        t6Title: "6. 合理使用",
        t6Item1:
          "你同意不对本服务进行反向工程、抓取或复制，以开发竞争产品。",
        t6Item2:
          "你同意不尝试绕过安全措施，也不试图访问他人数据。",

        t7Title: "7. 服务与条款的变更",
        t7Item1:
          "随着项目早期不断改进，站长可能会调整功能、价格或使用限制。",
        t7Item2:
          "如条款发生重要变化，我们会在站内发布提示。继续使用即视为接受新版条款。",

        t8Title: "8. 责任限制",
        t8Item1:
          "在法律允许的最大范围内，Aurum Task Desk 按“现状”提供，不保证百分之百可用，也不保证完全无错误。",
        t8Item2:
          "即便你的信件在本服务中起草，对于利润损失、航班误机、理赔被拒等间接或后果性损失，站长概不负责。",

        t9Title: "9. 适用法律",
        t9P1:
          "本条款受任务台所有者所在司法辖区的法律管辖，但如果你所在国家的消费者保护法给予你更强保护，则以当地法律为准。",

        termsFooterNote:
          "如本条款的某一部分在当地法律下被判无效，其余部分仍然有效。如你不同意本条款，请不要使用 Aurum Task Desk。"
      }
    };

    function applyLang(lang) {
      const t = i18n[lang] || i18n.en;
      currentLang = lang;

      brandSubText.textContent = t.brandSub;
      navHome.textContent = t.navHome;
      navDesk.textContent = t.navDesk;
      navAbout.textContent = t.navAbout;
      navContact.textContent = t.navContact;

      if (!currentUser || !currentUser.email) {
        loginBtnTextEl.textContent = t.loginBtn;
      }

      document.getElementById("termsTitle").textContent = t.termsTitle;
      document.getElementById("termsTag").textContent = t.termsTag;
      document.getElementById("termsIntro").textContent = t.termsIntro;
      document.getElementById("termsUpdated").textContent = t.termsUpdated;

      document.getElementById("t1Title").textContent = t.t1Title;
      document.getElementById("t1Item1").textContent = t.t1Item1;
      document.getElementById("t1Item2").textContent = t.t1Item2;

      document.getElementById("t2Title").textContent = t.t2Title;
      document.getElementById("t2Item1").textContent = t.t2Item1;
      document.getElementById("t2Item2").textContent = t.t2Item2;
      document.getElementById("t2Item3").textContent = t.t2Item3;

      document.getElementById("t3Title").textContent = t.t3Title;
      document.getElementById("t3Item1").textContent = t.t3Item1;
      document.getElementById("t3Item2").textContent = t.t3Item2;

      document.getElementById("t4Title").textContent = t.t4Title;
      document.getElementById("t4Item1").textContent = t.t4Item1;
      document.getElementById("t4Item2").textContent = t.t4Item2;

      document.getElementById("t5Title").textContent = t.t5Title;
      document.getElementById("t5Item1").textContent = t.t5Item1;
      document.getElementById("t5Item2").textContent = t.t5Item2;

      document.getElementById("t6Title").textContent = t.t6Title;
      document.getElementById("t6Item1").textContent = t.t6Item1;
      document.getElementById("t6Item2").textContent = t.t6Item2;

      document.getElementById("t7Title").textContent = t.t7Title;
      document.getElementById("t7Item1").textContent = t.t7Item1;
      document.getElementById("t7Item2").textContent = t.t7Item2;

      document.getElementById("t8Title").textContent = t.t8Title;
      document.getElementById("t8Item1").textContent = t.t8Item1;
      document.getElementById("t8Item2").textContent = t.t8Item2;

      document.getElementById("t9Title").textContent = t.t9Title;
      document.getElementById("t9P1").textContent = t.t9P1;

      document.getElementById("termsFooterNote").textContent = t.termsFooterNote;

      langButtons.forEach((b) => {
        b.classList.toggle("active", b.dataset.lang === lang);
      });

      document.documentElement.lang = (lang === "zh") ? "zh-CN" : "en";
      localStorage.setItem("aurum_lang", lang);
    }

    langButtons.forEach((btn) => {
      btn.addEventListener("click", () => {
        const lang = btn.dataset.lang || "en";
        applyLang(lang);
      });
    });

    (function initLang() {
      const saved = localStorage.getItem("aurum_lang");
      if (saved === "zh" || saved === "en") {
        applyLang(saved);
      } else {
        applyLang("en");
      }
    })();

    (function syncLoginState() {
      let user = null;
      try {
        const raw = localStorage.getItem("aurum_user");
        if (raw) user = JSON.parse(raw);
      } catch (e) {
        console.warn("aurum_user parse error", e);
      }

      const loginBtn = document.querySelector(".primary-btn");
      if (!loginBtn || !loginBtnTextEl) return;

      currentUser = user;

      if (user && user.email) {
        const displayName =
          (user.name && user.name.trim()) ||
          (user.email && user.email.split("@")[0]) ||
          "My Desk";

        loginBtnTextEl.textContent = `Hi, ${displayName}`;
        loginBtn.onclick = () => (window.location.href = "desk.html");
      } else {
        const t = i18n[currentLang] || i18n.en;
        loginBtnTextEl.textContent = t.loginBtn;
        loginBtn.onclick = () => (window.location.href = "auth.html");
      }
    })();
  </script>
</body>
</html>
